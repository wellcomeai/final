<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GPT-4o WebSocket Client</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #111; color: #0f0; }
    textarea { width: 100%; height: 80px; font-size: 16px; margin-bottom: 10px; background: #222; color: #0f0; border: 1px solid #0f0; }
    button { padding: 10px 20px; font-size: 16px; background: #0f0; color: #000; border: none; cursor: pointer; }
    pre { white-space: pre-wrap; background: #000; padding: 1rem; border: 1px solid #0f0; min-height: 200px; }
  </style>
</head>
<body>
  <h1>ü§ñ GPT-4o Chat (WebSocket)</h1>
  <textarea id="input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea><br>
  <button onclick="send()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  <h3>–û—Ç–≤–µ—Ç:</h3>
  <pre id="response"></pre>

  <script>
    const ws = new WebSocket("wss://final-yfqd.onrender.com/ws");  // –ó–ê–ú–ï–ù–ò –Ω–∞ —Å–≤–æ–π!

    ws.onopen = () => {
      console.log("‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");
    };

    ws.onmessage = (event) => {
      const res = document.getElementById("response");
      if (event.data === "[DONE]") return;
      res.textContent += event.data;
    };

    function send() {
      const input = document.getElementById("input");
      const res = document.getElementById("response");
      res.textContent = "";  // –æ—á–∏—Å—Ç–∫–∞
      ws.send(input.value);
      input.value = "";
    }
  </script>
</body>
</html>
